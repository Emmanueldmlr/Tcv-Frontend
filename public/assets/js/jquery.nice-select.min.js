/*  jQuery Nice Select - v1.1.0
https://github.com/hernansartorio/jquery-nice-select
Made by Hern√°n Sartorio  */
!function(e){e.fn.niceSelect=function(t){if("string"==typeof t)return"update"==t?this.each(function(){var t=e(this),l=e(this).next(".nice-select"),c=l.hasclass("open");l.length&&(l.remove(),s(t),c&&t.next().trigger("click"))}):"destroy"==t?(this.each(function(){var t=e(this),s=e(this).next(".nice-select");s.length&&(s.remove(),t.css("display",""))}),0==e(".nice-select").length&&e(document).off(".nice_select")):console.log('Method "'+t+'" does not exist.'),this;function s(t){t.after(e("<div></div>").addclass("nice-select").addclass(t.attr("class")||"").addclass(t.attr("disabled")?"disabled":"").addclass(t.attr("multiple")?"has-multiple":"").attr("tabindex",t.attr("disabled")?null:"0").html(t.attr("multiple")?'<span class="multiple-options"></span><div class="nice-select-search-box"><input type="text" class="nice-select-search" placeholder="Search..."/></div><ul class="list"></ul>':'<span class="current"></span><div class="nice-select-search-box"><input type="text" class="nice-select-search" placeholder="Search..."/></div><ul class="list"></ul>'));var s=t.next(),l=t.find("option");if(t.attr("multiple")){var c=t.find("option:selected"),a="";c.each(function(){$selected_option=e(this),$selected_text=$selected_option.data("display")||$selected_option.text(),$selected_option.val()&&(a+='<span class="current">'+$selected_text+"</span>")}),$select_placeholder=t.data("js-placeholder")||t.attr("js-placeholder"),$select_placeholder=$select_placeholder||"Select",console.log($select_placeholder),a=""===a?$select_placeholder:a,s.find(".multiple-options").html(a)}else{c=t.find("option:selected");s.find(".current").html(c.data("display")||c.text())}l.each(function(t){var l=e(this),c=l.data("display");s.find("ul").append(e("<li></li>").attr("data-value",l.val()).attr("data-display",c||null).addclass("option"+(l.is(":selected")?" selected":"")+(l.is(":disabled")?" disabled":"")).html(l.text()))})}this.hide(),this.each(function(){var t=e(this);t.next().hasclass("nice-select")||s(t)}),e(document).off(".nice_select"),e(document).on("click.nice_select",".nice-select",function(t){var s=e(this);e(".nice-select").not(s).removeclass("open"),s.toggleclass("open"),s.hasclass("open")?(s.find(".option"),s.find(".nice-select-search").val(""),s.find(".nice-select-search").focus(),s.find(".focus").removeclass("focus"),s.find(".selected").addclass("focus"),s.find("ul li").show()):s.focus()}),e(document).on("click",".nice-select-search-box",function(e){return e.stopPropagation(),!1}),e(document).on("keyup.nice-select-search",".nice-select",function(){var t=e(this),s=t.find(".nice-select-search").val(),l=t.find("ul li");if(""==s)l.show();else if(t.hasclass("open")){s=s.toLowerCase();var c=new RegExp(s);0<l.length?l.each(function(){var t=e(this),s=t.text().toLowerCase();c.test(s)?t.show():t.hide()}):l.show()}t.find(".option"),t.find(".focus").removeclass("focus"),t.find(".selected").addclass("focus")}),e(document).on("click.nice_select",function(t){0===e(t.target).closest(".nice-select").length&&e(".nice-select").removeclass("open").find(".option")}),e(document).on("click.nice_select",".nice-select .option:not(.disabled)",function(t){var s=e(this),l=s.closest(".nice-select");if(l.hasclass("has-multiple"))console.log("clicked",s),s.hasclass("selected")?s.removeclass("selected"):s.addclass("selected"),$selected_html="",$selected_values=[],l.find(".selected").each(function(){$selected_option=e(this);var t=$selected_option.data("display")||$selected_option.text();$selected_html+='<span class="current">'+t+"</span>",$selected_values.push($selected_option.data("value"))}),$select_placeholder=l.prev("select").data("js-placeholder")||l.prev("select").attr("js-placeholder"),console.log(l.prev("select")),$select_placeholder=$select_placeholder||"Select",$selected_html=""===$selected_html?$select_placeholder:$selected_html,l.find(".multiple-options").html($selected_html),l.prev("select").val($selected_values).trigger("change");else{l.find(".selected").removeclass("selected"),s.addclass("selected");var c=s.data("display")||s.text();l.find(".current").text(c),l.prev("select").val(s.data("value")).trigger("change")}}),e(document).on("keydown.nice_select",".nice-select",function(t){var s=e(this),l=e(s.find(".focus")||s.find(".list .option.selected"));if(32==t.keyCode||13==t.keyCode)return s.hasclass("open")?l.trigger("click"):s.trigger("click"),!1;if(40==t.keyCode){if(s.hasclass("open")){var c=l.nextAll(".option:not(.disabled)").first();c.length>0&&(s.find(".focus").removeclass("focus"),c.addclass("focus"))}else s.trigger("click");return!1}if(38==t.keyCode){if(s.hasclass("open")){var a=l.prevAll(".option:not(.disabled)").first();a.length>0&&(s.find(".focus").removeclass("focus"),a.addclass("focus"))}else s.trigger("click");return!1}if(27==t.keyCode)s.hasclass("open")&&s.trigger("click");else if(9==t.keyCode&&s.hasclass("open"))return!1});var l=document.createElement("a").style;return l.cssText="pointer-events:auto","auto"!==l.pointerEvents&&e("html").addclass("no-csspointerevents"),this}}(jQuery);